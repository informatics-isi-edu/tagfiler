$def with ()
$if None:
	$# 
	$# Copyright 2010 University of Southern California
	$# 
	$# Licensed under the Apache License, Version 2.0 (the "License");
	$# you may not use this file except in compliance with the License.
	$# You may obtain a copy of the License at
	$# 
	$#    http://www.apache.org/licenses/LICENSE-2.0
	$# 
	$# Unless required by applicable law or agreed to in writing, software
	$# distributed under the License is distributed on an "AS IS" BASIS,
	$# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
	$# See the License for the specific language governing permissions and
	$# limitations under the License.
	$#
<link rel="stylesheet" type="text/css" href="${home}/static/jquery-ui.css">
<script type="text/javascript" src="${home}/static/jquery-ui.js"></script>
<div id="psoc">
<br/>
<a id="Query_URL">Permanent link</a>
<br/><br/>

<div id="AddTagToQueryDiv">
<a id="AddTagToQueryLink" href="javascript:addTagToQuery()">Add a tag</a>
<br/><br/>
<a id="AddViewTagsToQueryLink" href="javascript:addViewTagsToQuery()">Add the tags of a view</a>
<br/><br/>
<a id="ViewAllResults" href="javascript:showQueryResults('&limit=none')">View all results.</a>
<br/><br/>
</div>

<div id="customizedViewDiv" style="display: none">
<fieldset>
<legend>Add a tag</legend>
<p>Select an available tag and click 'Add to query':</p>
<select id="customizedViewSelect" name="customizedViewSelect" onclick="loadAvailableTags('customizedViewSelect')" onchange="checkSelectValue('customizedViewSelect', 'addToListColumns')" >
<option value=''>Available Tags</option>
</select>
<input type="button" id="cancelAddToListColumns" name="cancelAddToListColumns" onclick="cancelAddToListColumns();" value="Cancel" />
<input type="button" id="addToListColumns" name="addToListColumns" disabled="disabled" onclick="addToListColumns('customizedViewSelect');" value="Add to query" />
</fieldset>
<br/><br/>
</div>

<div id="selectViewDiv" style="display: none">
<fieldset>
<legend>Add the tags of a view</legend>
<p>Select an available view and click 'Add to query':</p>
<select id="selectViews" name="selectViews"  onclick="loadAvailableViews('selectViews')" onchange="checkSelectValue('selectViews', 'addViewToListColumns');buildViewTagsTable('viewTagsDiv')">
<option value=''>Available Views</option>
</select>
<br/><br/>
<div id="viewTagsDiv" style="display: none">
<br/><br/>
</div>
<input type="button" id="cancelAddViewToListColumns" name="cancelAddViewToListColumns" onclick="cancelAddToListColumns();" value="Cancel" />
<input type="button" id="addViewToListColumns" name="addViewToListColumns" disabled="disabled" onclick="addViewToListColumns('selectViews');" value="Add to query" />
</fieldset>
<br/><br/>
</div>

<div id="queryDiv" style="display: none" >
</div>

<div id="Query_Preview" >
</div>

<br/><br/>
<select name="versions" id="versions" onchange="showPreview()">
        <option value="latest">Show latest version if matches</option>
        <option value="any">Show any version which matches</option>
</select><br/><br/>
<br/>

<br/>
</div>
<script type="text/javascript">
$for op in ops:
	$ val, desc = op
	ops["${desc}"] = "${val}";
$for key, values in opsExcludeTypes.iteritems():
	var temp = new Array();
	$for val in values:
		temp.push("${val}");
	opsExcludeTypes["${key}"] = temp;
\$(document).ready(function() {
	initPSOC("${home}", "${authn.role}", "${webauthnhome}");
});
</script>

