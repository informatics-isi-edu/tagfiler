$def with (args)
$if None:
	$# 
	$# Copyright 2010 University of Southern California
	$# 
	$# Licensed under the Apache License, Version 2.0 (the "License");
	$# you may not use this file except in compliance with the License.
	$# You may obtain a copy of the License at
	$# 
	$#    http://www.apache.org/licenses/LICENSE-2.0
	$# 
	$# Unless required by applicable law or agreed to in writing, software
	$# distributed under the License is distributed on an "AS IS" BASIS,
	$# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
	$# See the License for the specific language governing permissions and
	$# limitations under the License.
	$#
$ filerecord = args.get('filerecord')
$ vsuffix = args.get('vsuffix')
$ tagname = args.get('tagname')
$ typestr = args.get('typestr')
$ typename = args.get('typename')
$ options = args.get('options')
$ name = args.get('name')
$ required = args.get('required')
$if filerecord:
	<tr>
	<form enctype="application/x-www-form-urlencoded" action="${home}/${tagspace}/${subject2identifiers(filerecord)[0]}" method="post">
	<input type="hidden" name="set-${urlquote(tagname)}" value="true" />
	<td class="file-tag ${idquote(tagname)} multivalue input">
$else:
	<td>
$if options:
	<select name="${name}" id="${tagname}_id" onclick="chooseOptions('${home}', '${webauthnhome}', '${typestr}', '${tagname}_id')" typestr="${typestr}"
	$if required:
		required="${required}"
	>
	$if typename.lower()[0] in [ 'a', 'e', 'i', 'o', 'u' ]:
		$ article = 'an'
	$else:
		$ article = 'a'
	<option value="">Choose ${article} ${typename}</option>
	</select>
$else:
	<input type="text" name="${name}"  id="${tagname}_id" typestr="${typestr}" 
	$if required:
		required="${required}"
	/>
$if typestr == 'date':
	<a href="javascript:generateCalendar('${tagname}_id')"><img src="${home}/static/calendar.gif" width="16" height="16" border="0" alt="Pick a date"></a>
</td>
$if filerecord:
	<input type="hidden" name="action" value="put" />
	<td class="file-tag ${idquote(tagname)} multivalue set">
	<input type="submit" value="Set Value" />
	</td>
	</form>
	</tr>
