$def with (lognames)
$# the following nonsense line is due to a bug in the template engine... don't know why it works but it does!
$for foo in [ 0 ]:
$code
        def renderfiles(files):
                s = ""
                for f in files:
                        s += home + "/log/" + urlquote(f) + "\n"
                return s
${renderfiles(lognames)[:-1]}
