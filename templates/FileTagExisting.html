$def with (title, file, tagdefs)
$# 
$# Copyright 2010 University of Southern California
$# 
$# Licensed under the Apache License, Version 2.0 (the "License");
$# you may not use this file except in compliance with the License.
$# You may obtain a copy of the License at
$# 
$#    http://www.apache.org/licenses/LICENSE-2.0
$# 
$# Unless required by applicable law or agreed to in writing, software
$# distributed under the License is distributed on an "AS IS" BASIS,
$# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
$# See the License for the specific language governing permissions and
$# limitations under the License.
$#
$ odd = True
$if title == 'User' and datapred:
	<p><a href="${home + '/file/' + datapred}">Link to ${dataname}</a></p>
$if title != '':
	<h2>${title}</h2>
$if len(tagdefs) > 0:
	$if queryAllTags:
		<p><a href="${queryAllTags}">View all tags.</a></p>
	<table class="file-list">
	<tr class="file-heading">
	<th class="tag-name">Tag name</th>
	<th class="file-tags">Current Value(s)</th>
	</tr>
	$for tagdef in tagdefs:
		$if odd:
			<tr class="file odd">
		$else:
			<tr class="file even">
		$ odd = not odd
		<td class="tag name">${tagdef.tagname}</td>
		<td class="file-tag ${idquote(tagdef.tagname)}">
		$:{render.FileTagValBlock(file, tagdef, [tagdef.tagname], None)}
		</td>
		</tr>
	</table>
$else:
	There are no applicable tags.
