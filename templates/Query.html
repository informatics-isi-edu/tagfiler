$def with ()
$if None:
	$# 
	$# Copyright 2010 University of Southern California
	$# 
	$# Licensed under the Apache License, Version 2.0 (the "License");
	$# you may not use this file except in compliance with the License.
	$# You may obtain a copy of the License at
	$# 
	$#    http://www.apache.org/licenses/LICENSE-2.0
	$# 
	$# Unless required by applicable law or agreed to in writing, software
	$# distributed under the License is distributed on an "AS IS" BASIS,
	$# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
	$# See the License for the specific language governing permissions and
	$# limitations under the License.
	$#
<div id="psoc" onmouseup="document.body.style.cursor = 'default';" >

<!-- Table Cell Right Click Menu -->
<ul id="tablecellMenu" class="contextMenu">
    <li><a href="#delete">Delete value</a></li>		
    <li><a href="#bulkdelete">Delete values...</a></li>			        
    <li><a href="#edit">Edit value</a></li>			
</ul>
<ul id="tablecellEditMenu" class="contextMenu">
    <li><a href="#edit">Edit value</a></li>			
</ul>
<table>
<thead>
<tr>
<td class="topnav"><b>Actions</b>
<ul id="GlobalMenu" class="subnav">
	<li class="item" id="clearAllFilters" onmousedown="clearAllFilters();" >Clear all filters</li>
	<li class="item" id="disableEdit" onmousedown="disableEdit();" style="display: none" >Disable edit</li>
	<li class="item" id="enableEdit" onmousedown="enableEdit();" style="display: none" >Enable edit</li>
	<li class="item" id="hideRange" onmousedown="hideRange();" style="display: none" >Hide range</li>
	<li class="item" onmousedown="addTagToQuery();" >Show another column...</li>
	<li class="item" onmousedown="addViewTagsToQuery();" >Show a column set...</li>
	<li class="item" id="showRange" onmousedown="showRange();" >Show range</li>
</ul>
<span></span>
</td>
<td>
<span id="ViewResults"></span>
<img id="pagePrevious" src="${home}/static/back.jpg" alt="Previous" class="margin" onclick="setPreviousPage();" ></img>
<label id="resultsRange" ></label>
<img id="pageNext" src="${home}/static/forward.jpg" alt="Next" class="margin" onclick="setNextPage();" ></img>
<span id="totalResults" ></span>
with
<select id="previewLimit" name="previewLimit" onchange="updatePreviewLimit()" >
<option value="10">10</option>
<option value="25">25</option>
<option value="50">50</option>
<option value="100">100</option>
</select>&nbsp;per page.
</td>
<td><a id="Query_URL" href="" >Bookmarkable link</a>.</td>
</tr>
</thead>
</table>

<div id="customizedViewDiv" style="display: none">
<fieldset>
<p>Select an available tag and click 'Add to query':</p>
<p>
<input type="radio" name="showAnotherColumn" value="add" />Add to visible columns<br/>
<input type="radio" name="showAnotherColumn" value="replace" />Replace previously visible columns<br/>
</p>
<select id="customizedViewSelect" name="customizedViewSelect" onclick="loadAvailableTags('customizedViewSelect')" >
<option value=''>Available tags</option>
</select>
</fieldset>
</div>

<div id="selectViewDiv" style="display: none">
<fieldset>
<p>Select an available view and click 'Add to query':</p>
<p>
<input type="radio" name="showColumnSet" value="add" />Add to visible columns<br/>
<input type="radio" name="showColumnSet" value="replace" />Replace previously visible columns<br/>
</p>
<select id="selectViews" name="selectViews"  onclick="loadAvailableViews('selectViews')" >
<option value=''>Available Views</option>
</select>
</fieldset>
</div>

<div id="queryDiv" style="display: none; width:25%" >
</div>

<div id="editTagValuesWrapperDiv" style="display: none; width:25%" >
<div id="editTagValuesDiv">
<fieldset>
<legend>Scope</legend>
<input type="radio" name="valuesScope" value="page" />Edit all subjects showing on this page<br/>
<input type="radio" name="valuesScope" value="filter" />Edit all subjects matching filters<br/>
</fieldset>
<br/>
<fieldset>
<legend>Action</legend>
<input type="radio" name="valuesAction" value="PUT" />Add tag value(s)<br/>
<input type="radio" name="valuesAction" value="DELETE" />Delete tag value(s)<br/>
</fieldset>
<br/>
<table id="bulk_edit_table">
</table>
</div>
</div>

<div id="deleteTagValuesWrapperDiv" style="display: none; width:25%" >
<div id="deleteTagValuesDiv">
<fieldset>
<legend>Scope</legend>
<input type="radio" name="deleteValuesScope" value="page" />Edit all subjects showing on this page<br/>
<input type="radio" name="deleteValuesScope" value="filter" />Edit all subjects matching filters<br/>
</fieldset>
<br/>
Values:
<br/>
<table>
<tbody  id="deleteTagValuesTableBody">
</tbody>
</table>
</div>
</div>

<div id="Query_Preview" >
</div>

<select name="versions" id="versions" onchange="showPreview()">
        <option value="latest">Show latest version if matches</option>
        <option value="any">Show any version which matches</option>
</select>
<div 
   id="DragAndDropBox" 
   style="
      display:none;
      position:absolute; 
      font-size:12px;
      font-weight:bold;
      font-family:verdana;
      border:#72B0E6 solid 1px;
      padding:15px;
      color:#1A80DB;
      background-color:#FFFFFF;">
</div>

<div 
   id="TipBox" 
   style="
      display:none;
      position:absolute; 
      font-size:12px;
      font-weight:bold;
      font-family:verdana;
      border:#72B0E6 solid 1px;
      padding:15px;
      color:#1A80DB;
      white-space:nowrap;
      background-color:#FFFFFF;">
</div>

</div>
<script type="text/javascript">
$for op in ops:
	$ val, desc = op
	ops["${desc}"] = "${val}";
$for key, values in opsExcludeTypes.iteritems():
	var temp = new Array();
	$for val in values:
		temp.push("${val}");
	opsExcludeTypes["${key}"] = temp;
\$(document).ready(function() {
	$# initPSOC("${home}", "${authn.role}", "${webauthnhome}", "${basepath}", "$:{jsonWriter(querypath).replace('"','\\"')}");
	initPSOC_old("${home}", "serban", "${webauthnhome}", "${basepath}", "$:{jsonWriter(querypath).replace('"','\\"')}");
});
</script>

