$def with ()
$if None:
	$# 
	$# Copyright 2010 University of Southern California
	$# 
	$# Licensed under the Apache License, Version 2.0 (the "License");
	$# you may not use this file except in compliance with the License.
	$# You may obtain a copy of the License at
	$# 
	$#    http://www.apache.org/licenses/LICENSE-2.0
	$# 
	$# Unless required by applicable law or agreed to in writing, software
	$# distributed under the License is distributed on an "AS IS" BASIS,
	$# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
	$# See the License for the specific language governing permissions and
	$# limitations under the License.
	$#
<link rel="stylesheet" type="text/css" href="${home}/static/jquery-ui.css">
<script type="text/javascript" src="${home}/static/jquery-ui.js"></script>
<div id="psoc" onmouseup="document.body.style.cursor = 'default';" >
<br/>
<a id="Query_URL" href="" >Permanent link</a>&nbsp;&nbsp;
<a id="AddTagToQueryLink" href="javascript:addTagToQuery()">Add a column</a>&nbsp;&nbsp;
<a id="AddViewTagsToQueryLink" href="javascript:addViewTagsToQuery()">Add multiple columns</a>&nbsp;&nbsp;
<br/><br/>
<div>
Show&nbsp;
<select id="previewLimit" name="previewLimit" onchange="updatePreviewLimit()" >
<option value="10">10</option>
<option value="25">25</option>
<option value="50">50</option>
<option value="100">100</option>
</select>&nbsp;entries&nbsp;&nbsp;&nbsp;
<b id="ViewResults"></b>
&nbsp;&nbsp;&nbsp;
<img id="pagePrevious" alt="Previous"></img>
<img id="pageNext" alt="Next"></img>
<br/><br/>
</div>

<div id="customizedViewDiv" style="display: none">
<fieldset>
<p>Select an available tag and click 'Add to query':</p>
<select id="customizedViewSelect" name="customizedViewSelect" onclick="loadAvailableTags('customizedViewSelect')" >
<option value=''>Available tags</option>
</select>
</fieldset>
</div>

<div id="selectViewDiv" style="display: none">
<fieldset>
<p>Select an available view and click 'Add to query':</p>
<select id="selectViews" name="selectViews"  onclick="loadAvailableViews('selectViews')" >
<option value=''>Available Views</option>
</select>
</div>
</fieldset>
</div>

<div id="queryDiv" style="display: none; width:25%" >
</div>

<div id="Query_Preview" >
</div>

<select name="versions" id="versions" onchange="showPreview()">
        <option value="latest">Show latest version if matches</option>
        <option value="any">Show any version which matches</option>
</select>
<div 
   id="DragAndDropBox" 
   style="
      display:none;
      position:absolute; 
      font-size:12px;
      font-weight:bold;
      font-family:verdana;
      border:#72B0E6 solid 1px;
      padding:15px;
      color:#1A80DB;
      background-color:#FFFFFF;">
</div>

<div 
   id="TipBox" 
   style="
      display:none;
      position:absolute; 
      font-size:12px;
      font-weight:bold;
      font-family:verdana;
      border:#72B0E6 solid 1px;
      padding:15px;
      color:#1A80DB;
      white-space:nowrap;
      background-color:#FFFFFF;">
</div>

</div>
<script type="text/javascript">
$for op in ops:
	$ val, desc = op
	ops["${desc}"] = "${val}";
$for key, values in opsExcludeTypes.iteritems():
	var temp = new Array();
	$for val in values:
		temp.push("${val}");
	opsExcludeTypes["${key}"] = temp;
\$(document).ready(function() {
	initPSOC("${home}", "${authn.role}", "${webauthnhome}", "${basepath}", "$:{jsonWriter(querypath).replace('"','\\"')}");
});
</script>

