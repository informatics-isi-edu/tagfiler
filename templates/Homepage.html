$def with (files, showversions=False)
$# 
$# Copyright 2010 University of Southern California
$# 
$# Licensed under the Apache License, Version 2.0 (the "License");
$# you may not use this file except in compliance with the License.
$# You may obtain a copy of the License at
$# 
$#    http://www.apache.org/licenses/LICENSE-2.0
$# 
$# Unless required by applicable law or agreed to in writing, software
$# distributed under the License is distributed on an "AS IS" BASIS,
$# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
$# See the License for the specific language governing permissions and
$# limitations under the License.
$#
$ odd = True
$if view:
	$ querystr = '?view=%s' % urlquote(view)
$else:
	$ querystr = ''
$if len(files) > 0:
	<ol>
	$for file in files:
		$ datapred, dataid, dataname = subject2identifiers(file, showversions=showversions)
		<li><a href="${home}/file/${datapred}">${dataname}</a>
		$if file.writeok:
			<ul><li><form enctype="application/x-www-form-urlencoded" action="${home}/file/${datapred}" method="post">
			    <div>
			    <input type="hidden" name="action" value="delete" />
			    <input type="hidden" name="referer" value="${referer}" />
			    <input type="submit" value="Delete" />
			    </div>
			</form></li>
			<li>Replace with: <a href="${home}/file/${datapred}?action=define&amp;type=file">file</a>, <a href="${home}/file/${datapred}?action=define&amp;type=url">url</a>, <a href="${home}/file/${datapred}?action=define&amp;type=dataset">dataset</a></li>
			</ul>
		</li>
	</ol>
$else:
	<p>There are no items to list with your current privileges.</p>
