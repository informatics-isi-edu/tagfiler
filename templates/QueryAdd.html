$def with (apptarget, querytarget, tags, ops)
$if len(tags) > 0:
	<h3>Add a Query Term</h3>
	<p>Select an available tag and click 'Add' to build a query:
	</p>
	<form enctype="application/x-www-form-urlencoded" action="${querytarget}" method="get">
	  <table><tr valign='top'>
	  <td><select name="tag">
		$for tag in tags:
			<option value="${tag}">${tag}</option>
	  </select></td>
	  <td><select name="op">
	  	$for op, desc in ops:
			<option value="${op}">${desc}</option>
	  </select></td>
	  <td><table>
		  <tr><td></td><td><input type="text" name="val0" /></td></tr>
		  $for i in range(1,10):
		  	<tr><td>OR</td><td><input type="text" name="val${i}" /></td></tr>
	  </table></td>
	  <td><input type="submit" value="Add to query" />
	  </tr></table>
	  <input type="hidden" name="action" value="add" />
	</form>
$else:
	<h3>Notice</h3>
	<p>You must <a href="${apptarget}/tagdef">define tags</a> before you can use the query interface.</p>
